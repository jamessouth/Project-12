{"version":3,"sources":["webpack:///./src/js/useCubes.js","webpack:///./node_modules/core-js/modules/es.math.hypot.js"],"names":["xStart","yStart","scrY","pb","document","querySelectorAll","cc","hold","querySelector","whichPB","rotObj","0","x","y","xs","ys","1","rotate","e","xPos","touches","Math","floor","clientX","yPos","clientY","style","transform","concat","getCenter","cube","offsetLeft","offsetWidth","offsetTop","offsetHeight","getCube","addEventListener","passive","target","tagName","window","scrollY","cubeZeroCtr","cubeOneCtr","distFromCubeZero","round","hypot","distFromCubeOne","releaseCube","removeEventListener","preventDefault","$","__webpack_require__","abs","sqrt","stat","value1","value2","arg","div","sum","i","aLen","arguments","length","larg","Infinity"],"mappings":"4HAGIA,EACAC,EAgBAC,EApBEC,EAAKC,SAASC,iBAAiB,eAC/BC,EAAKF,SAASC,iBAAiB,mBAC/BE,EAAOH,SAASI,cAAc,SAGhCC,EAAU,EACRC,EAAS,CACbC,EAAG,CACDC,EAAG,EACHC,EAAG,EACHC,GAAI,EACJC,GAAI,GAENC,EAAG,CACDJ,EAAG,EACHC,EAAG,EACHC,GAAI,EACJC,GAAI,IAIR,SAASE,EAAOC,GACd,IAAMC,EAAQD,EAAEE,QAAUC,KAAKC,MAAMJ,EAAEE,QAAQ,GAAGG,SAAWL,EAAEN,EACzDY,GAAQN,EAAEE,QAAUC,KAAKC,MAAMJ,EAAEE,QAAQ,GAAGK,SAAWP,EAAEL,GAAKX,EACpEQ,EAAOD,GAASK,GAAKK,EAAOnB,EAASU,EAAOD,GAASG,EACrDF,EAAOD,GAASM,GAAKS,EAAOvB,EAASS,EAAOD,GAASI,EACrDV,EAAGM,GAASiB,MAAMC,UAAlB,WAAAC,QAA0ClB,EAAOD,GAASM,GAA1D,iBAAAa,OAA4ElB,EAAOD,GAASK,GAA5F,QAEF,SAASe,EAAUC,GACjB,MAAO,CACLlB,EAAIkB,EAAKC,WAAaD,EAAKE,YAAc,EACzCnB,EAAIiB,EAAKG,UAAYH,EAAKI,aAAe,GAG7C,SAASC,EAAQjB,GACfX,EAAK6B,iBAAiB,YAAanB,EAAQ,CAAEoB,SAAS,IAC7B,eAArBnB,EAAEoB,OAAOC,SACXhC,EAAK6B,iBAAiB,YAAanB,EAAQ,CAAEoB,SAAS,IAExDnC,EAAOsC,OAAOC,QACd,IAAMC,EAAcb,EAAUvB,EAAG,IAC3BqC,EAAad,EAAUvB,EAAG,IAChCN,EAAUkB,EAAEN,GAAKS,KAAKC,MAAMJ,EAAEE,QAAQ,GAAGG,SACzCtB,GAAUiB,EAAEL,GAAKQ,KAAKC,MAAMJ,EAAEE,QAAQ,GAAGK,UAAYvB,EACrD,IAAM0C,EAAmBvB,KAAKwB,MAAMxB,KAAKyB,MAAMJ,EAAY9B,EAAIZ,EAAQ0C,EAAY7B,EAAIZ,IACjF8C,EAAkB1B,KAAKwB,MAAMxB,KAAKyB,MAAMH,EAAW/B,EAAIZ,EAAQ2C,EAAW9B,EAAIZ,IAElFQ,EADEmC,GAAoBG,EACZ,EAEA,EAGd,SAASC,IACPtC,EAAOD,GAASG,EAAIF,EAAOD,GAASK,IAAM,EAC1CJ,EAAOD,GAASI,EAAIH,EAAOD,GAASM,IAAM,EAC1CR,EAAK0C,oBAAoB,YAAahC,EAAQ,CAAEoB,SAAS,IACzD9B,EAAK0C,oBAAoB,YAAahC,EAAQ,CAAEoB,SAAS,IAE3D9B,EAAK6B,iBAAiB,YAAaD,EAAS,CAAEE,SAAS,IACvD9B,EAAK6B,iBAAiB,aAAcD,EAAS,CAAEE,SAAS,IACxD9B,EAAK6B,iBAAiB,UAAWY,GACjCzC,EAAK6B,iBAAiB,WAAYY,GAClCzC,EAAK6B,iBAAiB,aAAcY,GACpC5C,SAASgC,iBAAiB,YAAa,SAAClB,GACb,eAArBA,EAAEoB,OAAOC,SACXrB,EAAEgC,kBAEH,CAAEb,SAAS,0BCnEd,IAAAc,EAAQC,EAAQ,QAEhBC,EAAAhC,KAAAgC,IACAC,EAAAjC,KAAAiC,KAIAH,EAAA,CAAGb,OAAA,OAAAiB,MAAA,GAA6B,CAChCT,MAAA,SAAAU,EAAAC,GAMA,IALA,IAIAC,EAAAC,EAJAC,EAAA,EACAC,EAAA,EACAC,EAAAC,UAAAC,OACAC,EAAA,EAEAJ,EAAAC,GAEAG,GADAP,EAAAL,EAAAU,UAAAF,QAGAD,KADAD,EAAAM,EAAAP,GACAC,EAAA,EACAM,EAAAP,GAGAE,GAFOF,EAAA,GACPC,EAAAD,EAAAO,GACAN,EACOD,EAEP,OAAAO,IAAAC,QAAAD,EAAAX,EAAAM","file":"useCubes.7bb1439683d0f53a89f7.js","sourcesContent":["const pb = document.querySelectorAll('.photo-cube');\r\nconst cc = document.querySelectorAll('.cube-container');\r\nconst hold = document.querySelector('.hold');\r\nlet xStart;\r\nlet yStart;\r\nlet whichPB = 0;\r\nconst rotObj = {\r\n  0: {\r\n    x: 0,\r\n    y: 0,\r\n    xs: 0,\r\n    ys: 0,\r\n  },\r\n  1: {\r\n    x: 0,\r\n    y: 0,\r\n    xs: 0,\r\n    ys: 0,\r\n  },\r\n};\r\nlet scrY;\r\nfunction rotate(e) {\r\n  const xPos = (e.touches ? Math.floor(e.touches[0].clientX) : e.x);\r\n  const yPos = (e.touches ? Math.floor(e.touches[0].clientY) : e.y) + scrY;\r\n  rotObj[whichPB].xs = xPos - xStart + rotObj[whichPB].x;\r\n  rotObj[whichPB].ys = yPos - yStart + rotObj[whichPB].y;\r\n  pb[whichPB].style.transform = `rotateX(${-rotObj[whichPB].ys}deg) rotateY(${rotObj[whichPB].xs}deg)`;\r\n}\r\nfunction getCenter(cube) {\r\n  return {\r\n    x: (cube.offsetLeft + cube.offsetWidth / 2),\r\n    y: (cube.offsetTop + cube.offsetHeight / 2),\r\n  };\r\n}\r\nfunction getCube(e) {\r\n  hold.addEventListener('mousemove', rotate, { passive: true });\r\n  if (e.target.tagName === 'CUBE-PANEL') {\r\n    hold.addEventListener('touchmove', rotate, { passive: true });\r\n  }\r\n  scrY = window.scrollY;\r\n  const cubeZeroCtr = getCenter(cc[0]);\r\n  const cubeOneCtr = getCenter(cc[1]);\r\n  xStart = (e.x || Math.floor(e.touches[0].clientX));\r\n  yStart = (e.y || Math.floor(e.touches[0].clientY)) + scrY;\r\n  const distFromCubeZero = Math.round(Math.hypot(cubeZeroCtr.x - xStart, cubeZeroCtr.y - yStart));\r\n  const distFromCubeOne = Math.round(Math.hypot(cubeOneCtr.x - xStart, cubeOneCtr.y - yStart));\r\n  if (distFromCubeZero <= distFromCubeOne) {\r\n    whichPB = 0;\r\n  } else {\r\n    whichPB = 1;\r\n  }\r\n}\r\nfunction releaseCube() {\r\n  rotObj[whichPB].x = rotObj[whichPB].xs || 0;\r\n  rotObj[whichPB].y = rotObj[whichPB].ys || 0;\r\n  hold.removeEventListener('mousemove', rotate, { passive: true });\r\n  hold.removeEventListener('touchmove', rotate, { passive: true });\r\n}\r\nhold.addEventListener('mousedown', getCube, { passive: true });\r\nhold.addEventListener('touchstart', getCube, { passive: true });\r\nhold.addEventListener('mouseup', releaseCube);\r\nhold.addEventListener('touchend', releaseCube);\r\nhold.addEventListener('mouseleave', releaseCube);\r\ndocument.addEventListener('touchmove', (e) => {\r\n  if (e.target.tagName === 'CUBE-PANEL') {\r\n    e.preventDefault();\r\n  }\r\n}, { passive: false });\r\n","var $ = require('../internals/export');\n\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n"],"sourceRoot":""}