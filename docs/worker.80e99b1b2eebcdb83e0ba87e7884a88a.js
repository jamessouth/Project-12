const e={typescript:"#2b7489",shell:"#89e051",go:"#00ADD8",vue:"#2c3e50",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"},t={headers:{"User-Agent":"jamessouth",Accept:"application/vnd.github.v3+json"}};addEventListener("message",async s=>{const a=await fetch(`https://api.github.com/repos/jamessouth/${s.data.repoName}/languages`,t),o=await a.json(),c=Object.values(o).reduce((e,t)=>e+t),$=Object.entries(o).sort((e,t)=>t[1]-e[1]);let i="linear-gradient(to right",n=0,r="";$.forEach(([t,s],a)=>{const o=Math.floor(s/c*1e5)/1e3,h=e[t.toLowerCase()];0==a?1==$.length?(i+=`, ${h}, ${h})`,r+=`${t} ${o}%`):(i+=`, ${h} ${o}%`,r+=`${t} ${o}%, `):a==$.length-1?(i+=`, ${h} ${n}%)`,r+=`${t} ${o}%`):(i+=`, ${h} ${n}% ${o+n}%`,r+=`${t} ${o}%, `),n+=o}),postMessage({style:i,title:r,id:s.data.id})});